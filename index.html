<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>玩家新增统计 | Player Growth Analytics</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', 'Microsoft YaHei', sans-serif;
            transition: all 0.3s ease;
        }
        
        body {
            background: linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 100%);
            color: #e0e0e0;
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            width: 100%;
            margin: 0 auto;
            background: rgba(30, 30, 30, 0.8);
            border-radius: 15px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.6);
            overflow: hidden;
            padding: 25px;
            position: relative;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(218, 165, 32, 0.3);
        }
        
        .language-switcher {
            position: absolute;
            top: 20px;
            right: 20px;
            display: flex;
            gap: 10px;
        }
        
        .lang-btn {
            background: rgba(40, 40, 40, 0.9);
            border: none;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.9rem;
            cursor: pointer;
            color: #DAA520;
            font-weight: 500;
            border: 1px solid rgba(218, 165, 32, 0.4);
        }
        
        .lang-btn:hover {
            background: rgba(60, 60, 60, 0.9);
        }
        
        .lang-btn.active {
            background: rgba(218, 165, 32, 0.2);
            color: #FFD700;
            border-color: #DAA520;
        }
        
        header {
            text-align: center;
            padding: 30px 0 20px;
            margin-bottom: 20px;
            border-bottom: 1px solid rgba(218, 165, 32, 0.3);
        }
        
        h1 {
            font-size: 2.5rem;
            font-weight: 300;
            margin-bottom: 10px;
            color: #FFD700;
            text-shadow: 0 0 10px rgba(218, 165, 32, 0.5);
        }
        
        .subtitle {
            font-size: 1.1rem;
            color: #DAA520;
            max-width: 600px;
            margin: 0 auto;
            line-height: 1.6;
        }
        
        .dashboard {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 30px;
        }
        
        @media (max-width: 900px) {
            .dashboard {
                grid-template-columns: 1fr;
            }
        }
        
        .stats-card {
            background: rgba(40, 40, 40, 0.7);
            border-radius: 12px;
            padding: 25px;
            text-align: center;
            border: 1px solid rgba(218, 165, 32, 0.4);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.4);
            position: relative;
            overflow: hidden;
        }
        
        .stats-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #DAA520, #FFD700);
        }
        
        .stats-title {
            font-size: 1.2rem;
            color: #DAA520;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        
        .stats-value {
            font-size: 3.5rem;
            font-weight: 300;
            color: #FFD700;
            line-height: 1;
            margin: 15px 0;
            text-shadow: 0 0 10px rgba(218, 165, 32, 0.3);
        }
        
        .stats-label {
            color: #DAA520;
            font-size: 1rem;
            margin-top: 10px;
        }
        
        .stats-comparison {
            font-size: 0.9rem;
            color: #B8860B;
            margin-top: 10px;
        }
        
        .controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin: 20px 0 30px;
            flex-wrap: wrap;
        }
        
        .btn {
            padding: 12px 25px;
            background: linear-gradient(135deg, #DAA520, #B8860B);
            color: #000;
            border: none;
            border-radius: 50px;
            font-size: 1rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            box-shadow: 0 5px 15px rgba(218, 165, 32, 0.3);
            transition: all 0.3s ease;
            border: 1px solid rgba(218, 165, 32, 0.5);
        }
        
        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(218, 165, 32, 0.5);
            background: linear-gradient(135deg, #FFD700, #DAA520);
        }
        
        .btn:active {
            transform: translateY(1px);
        }
        
        .last-updated {
            text-align: center;
            color: #B8860B;
            margin-top: 5px;
            font-size: 0.9rem;
        }
        
        .data-highlights {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin: 30px 0;
        }
        
        @media (max-width: 900px) {
            .data-highlights {
                grid-template-columns: 1fr;
            }
        }
        
        .highlight-card {
            background: rgba(40, 40, 40, 0.7);
            border-radius: 12px;
            padding: 20px;
            border: 1px solid rgba(218, 165, 32, 0.4);
            text-align: center;
        }
        
        .highlight-title {
            font-size: 1rem;
            color: #DAA520;
            margin-bottom: 10px;
        }
        
        .highlight-value {
            font-size: 2rem;
            font-weight: 300;
            color: #FFD700;
            margin: 10px 0;
        }
        
        .highlight-change {
            font-size: 0.9rem;
            color: #B8860B;
        }
        
        .info-section {
            background: rgba(40, 40, 40, 0.7);
            border-radius: 12px;
            padding: 20px;
            margin-top: 25px;
            border: 1px solid rgba(218, 165, 32, 0.4);
        }
        
        .info-title {
            font-size: 1.1rem;
            color: #DAA520;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .info-content {
            color: #B8860B;
            line-height: 1.6;
            font-size: 0.95rem;
        }
        
        .footer {
            text-align: center;
            margin-top: 30px;
            padding-top: 20px;
            color: #B8860B;
            font-size: 0.85rem;
            border-top: 1px solid rgba(218, 165, 32, 0.3);
        }
        
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(218, 165, 32, .3);
            border-radius: 50%;
            border-top-color: #DAA520;
            animation: spin 1s ease-in-out infinite;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        .positive-change {
            color: #32CD32;
        }
        
        .negative-change {
            color: #DC143C;
        }
        
        @media (max-width: 600px) {
            .container {
                padding: 15px;
            }
            
            h1 {
                font-size: 2rem;
            }
            
            .stats-value {
                font-size: 3rem;
            }
            
            .controls {
                flex-direction: column;
                align-items: center;
            }
            
            .btn {
                width: 100%;
                justify-content: center;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="language-switcher">
            <button class="lang-btn active" id="lang-zh">繁體中文</button>
            <button class="lang-btn" id="lang-en">English</button>
        </div>
        
        <header>
            <h1 id="title"><i class="fas fa-crown"></i> 玩家新增統計</h1>
            <p class="subtitle" id="subtitle">追踪每小時新增玩家與日活躍用戶數據</p>
        </header>
        
        <div class="dashboard">
            <div class="stats-card">
                <div class="stats-title" id="todayTitle">
                    <i class="fas fa-calendar-day"></i>
                    <span>今日新增玩家</span>
                </div>
                <div class="stats-value" id="todayNewPlayers">342</div>
                <div class="stats-label" id="todayLabel">今日首次登錄玩家</div>
                <div class="stats-comparison" id="todayComparison">與昨日: <span class="positive-change">+44</span></div>
            </div>
            
            <div class="stats-card">
                <div class="stats-title" id="dauTitle">
                    <i class="fas fa-users"></i>
                    <span>日活躍玩家 (DAU)</span>
                </div>
                <div class="stats-value" id="dauCount">1,587</div>
                <div class="stats-label" id="dauLabel">24小時內活躍玩家</div>
                <div class="stats-comparison" id="dauComparison">與昨日: <span class="positive-change">+164</span></div>
            </div>
        </div>
        
        <div class="controls">
            <button id="refreshBtn" class="btn">
                <i class="fas fa-sync-alt"></i> <span id="refreshText">刷新數據</span>
            </button>
            <button id="exportBtn" class="btn">
                <i class="fas fa-download"></i> <span id="exportText">導出數據</span>
            </button>
        </div>
        
        <div class="last-updated">
            <p id="lastUpdatedText">最後更新: <span id="lastUpdated">2023-09-08 14:30:45</span></p>
        </div>
        
        <div class="data-highlights">
            <div class="highlight-card">
                <div class="highlight-title" id="peakHourTitle">高峰時段</div>
                <div class="highlight-value" id="peakHourValue">10:00-11:00</div>
                <div class="highlight-change" id="peakHourPlayers">45 玩家</div>
            </div>
            
            <div class="highlight-card">
                <div class="highlight-title" id="avgNewTitle">平均每小時</div>
                <div class="highlight-value" id="avgNewValue">14.3</div>
                <div class="highlight-change" id="avgNewChange">與昨日: <span class="positive-change">+1.8</span></div>
            </div>
            
            <div class="highlight-card">
                <div class="highlight-title" id="retentionTitle">次日留存率</div>
                <div class="highlight-value" id="retentionValue">42.5%</div>
                <div class="highlight-change" id="retentionChange">與前日: <span class="positive-change">+3.8%</span></div>
            </div>
        </div>
        
        <div class="info-section">
            <h3 class="info-title">
                <i class="fas fa-info-circle"></i>
                <span id="infoTitle">數據說明</span>
            </h3>
            <div class="info-content" id="infoContent">
                <p><strong>新增玩家</strong>: 指首次登錄服務器的玩家，反映遊戲的拉新能力。</p>
                <p><strong>日活躍玩家 (DAU)</strong>: 指24小時內登錄過遊戲的玩家，反映遊戲的用戶粘性。</p>
                <p><strong>數據來源</strong>: 服務器API接口實時統計，每小時更新一次。</p>
            </div>
        </div>
        
        <div class="footer">
            <p id="footerText">玩家增長分析系統 &copy; 2023 | 數據實時更新</p>
        </div>
    </div>

    <script>
        // 语言数据
        const translations = {
            "zh": {
                "title": "玩家新增統計",
                "subtitle": "追踪每小時新增玩家與日活躍用戶數據",
                "todayTitle": "今日新增玩家",
                "todayLabel": "今日首次登錄玩家",
                "dauTitle": "日活躍玩家 (DAU)",
                "dauLabel": "24小時內活躍玩家",
                "refreshText": "刷新數據",
                "exportText": "導出數據",
                "lastUpdatedText": "最後更新:",
                "peakHourTitle": "高峰時段",
                "avgNewTitle": "平均每小時",
                "retentionTitle": "次日留存率",
                "infoTitle": "數據說明",
                "infoContent": `
                    <p><strong>新增玩家</strong>: 指首次登錄服務器的玩家，反映遊戲的拉新能力。</p>
                    <p><strong>日活躍玩家 (DAU)</strong>: 指24小時內登錄過遊戲的玩家，反映遊戲的用戶粘性。</p>
                    <p><strong>數據來源</strong>: 服務器API接口實時統計，每小時更新一次。</p>
                `,
                "footerText": "玩家增長分析系統 &copy; 2023 | 數據實時更新",
                "loading": "加載中...",
                "increase": "增加",
                "decrease": "減少",
                "noData": "暫無數據",
                "vsYesterday": "與昨日: ",
                "players": "玩家"
            },
            "en": {
                "title": "Player Growth Analytics",
                "subtitle": "Track hourly new players and daily active users",
                "todayTitle": "Today's New Players",
                "todayLabel": "First-time players today",
                "dauTitle": "Daily Active Users (DAU)",
                "dauLabel": "Players active in last 24 hours",
                "refreshText": "Refresh Data",
                "exportText": "Export Data",
                "lastUpdatedText": "Last Updated:",
                "peakHourTitle": "Peak Hour",
                "avgNewTitle": "Avg per Hour",
                "retentionTitle": "Next Day Retention",
                "infoTitle": "Data Information",
                "infoContent": `
                    <p><strong>New Players</strong>: Players who logged in for the first time, reflects user acquisition.</p>
                    <p><strong>Daily Active Users (DAU)</strong>: Players who logged in within last 24 hours, reflects user retention.</p>
                    <p><strong>Data Source</strong>: Real-time statistics from server API, updated hourly.</p>
                `,
                "footerText": "Player Growth Analytics System &copy; 2023 | Real-time Updates",
                "loading": "Loading...",
                "increase": "increase",
                "decrease": "decrease",
                "noData": "No data available",
                "vsYesterday": "Vs yesterday: ",
                "players": "players"
            }
        };
        
        // 当前语言
        let currentLang = "zh";
        
        // 模拟数据 - 在实际应用中，这些数据应该从服务器API获取
        const mockData = {
            todayNewPlayers: 342,
            dau: 1587,
            yesterdayNewPlayers: 298,
            yesterdayDAU: 1423,
            peakHour: "10:00-11:00",
            peakHourPlayers: 45,
            avgPerHour: 14.3,
            yesterdayAvgPerHour: 12.5,
            retentionRate: 42.5,
            yesterdayRetentionRate: 38.7,
            lastUpdated: "2023-09-08 14:30:45"
        };
        
        // 切换语言
        function setLanguage(lang) {
            currentLang = lang;
            
            // 更新语言按钮状态
            document.querySelectorAll('.lang-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            document.getElementById(`lang-${lang}`).classList.add('active');
            
            // 更新页面文本
            document.getElementById('title').innerHTML = `<i class="fas fa-crown"></i> ${translations[lang].title}`;
            document.getElementById('subtitle').textContent = translations[lang].subtitle;
            document.getElementById('todayTitle').innerHTML = `<i class="fas fa-calendar-day"></i> <span>${translations[lang].todayTitle}</span>`;
            document.getElementById('todayLabel').textContent = translations[lang].todayLabel;
            document.getElementById('dauTitle').innerHTML = `<i class="fas fa-users"></i> <span>${translations[lang].dauTitle}</span>`;
            document.getElementById('dauLabel').textContent = translations[lang].dauLabel;
            document.getElementById('refreshText').textContent = translations[lang].refreshText;
            document.getElementById('exportText').textContent = translations[lang].exportText;
            document.getElementById('lastUpdatedText').innerHTML = `${translations[lang].lastUpdatedText} <span id="lastUpdated">${mockData.lastUpdated}</span>`;
            document.getElementById('peakHourTitle').textContent = translations[lang].peakHourTitle;
            document.getElementById('avgNewTitle').textContent = translations[lang].avgNewTitle;
            document.getElementById('retentionTitle').textContent = translations[lang].retentionTitle;
            document.getElementById('infoTitle').textContent = translations[lang].infoTitle;
            document.getElementById('infoContent').innerHTML = translations[lang].infoContent;
            document.getElementById('footerText').textContent = translations[lang].footerText;
            
            // 更新数据对比文本
            updateComparisonText();
        }
        
        // 更新数据对比文本
        function updateComparisonText() {
            const todayComparison = mockData.todayNewPlayers - mockData.yesterdayNewPlayers;
            const todayComparisonElement = document.getElementById('todayComparison');
            todayComparisonElement.innerHTML = `${translations[currentLang].vsYesterday}`;
            if (todayComparison > 0) {
                todayComparisonElement.innerHTML += `<span class="positive-change">+${todayComparison}</span>`;
            } else if (todayComparison < 0) {
                todayComparisonElement.innerHTML += `<span class="negative-change">${todayComparison}</span>`;
            } else {
                todayComparisonElement.innerHTML += `<span>0</span>`;
            }
            
            const dauComparison = mockData.dau - mockData.yesterdayDAU;
            const dauComparisonElement = document.getElementById('dauComparison');
            dauComparisonElement.innerHTML = `${translations[currentLang].vsYesterday}`;
            if (dauComparison > 0) {
                dauComparisonElement.innerHTML += `<span class="positive-change">+${dauComparison}</span>`;
            } else if (dauComparison < 0) {
                dauComparisonElement.innerHTML += `<span class="negative-change">${dauComparison}</span>`;
            } else {
                dauComparisonElement.innerHTML += `<span>0</span>`;
            }
            
            const avgChange = mockData.avgPerHour - mockData.yesterdayAvgPerHour;
            const avgChangeElement = document.getElementById('avgNewChange');
            avgChangeElement.innerHTML = `${translations[currentLang].vsYesterday}`;
            if (avgChange > 0) {
                avgChangeElement.innerHTML += `<span class="positive-change">+${avgChange.toFixed(1)}</span>`;
            } else if (avgChange < 0) {
                avgChangeElement.innerHTML += `<span class="negative-change">${avgChange.toFixed(1)}</span>`;
            } else {
                avgChangeElement.innerHTML += `<span>0</span>`;
            }
            
            const retentionChange = mockData.retentionRate - mockData.yesterdayRetentionRate;
            const retentionChangeElement = document.getElementById('retentionChange');
            retentionChangeElement.innerHTML = `${translations[currentLang].vsYesterday}`;
            if (retentionChange > 0) {
                retentionChangeElement.innerHTML += `<span class="positive-change">+${retentionChange.toFixed(1)}%</span>`;
            } else if (retentionChange < 0) {
                retentionChangeElement.innerHTML += `<span class="negative-change">${retentionChange.toFixed(1)}%</span>`;
            } else {
                retentionChangeElement.innerHTML += `<span>0%</span>`;
            }
        }
        
        // 导出数据
        function exportData() {
            // 在实际应用中，这里应该导出真实数据
            const dataStr = JSON.stringify(mockData, null, 2);
            const dataUri = 'data:application/json;charset=utf-8,'+ encodeURIComponent(dataStr);
            
            const exportFileDefaultName = `player-growth-data-${new Date().toLocaleDateString().replace(/\//g, '-')}.json`;
            
            const linkElement = document.createElement('a');
            linkElement.setAttribute('href', dataUri);
            linkElement.setAttribute('download', exportFileDefaultName);
            linkElement.click();
        }
        
        // 页面加载完成后初始化
        document.addEventListener('DOMContentLoaded', function() {
            // 设置语言切换事件
            document.getElementById('lang-zh').addEventListener('click', () => setLanguage('zh'));
            document.getElementById('lang-en').addEventListener('click', () => setLanguage('en'));
            
            // 设置按钮事件
            document.getElementById('refreshBtn').addEventListener('click', function() {
                // 模拟刷新数据
                const now = new Date();
                mockData.lastUpdated = `${now.getFullYear()}-${String(now.getMonth()+1).padStart(2, '0')}-${String(now.getDate()).padStart(2, '0')} ${String(now.getHours()).padStart(2, '0')}:${String(now.getMinutes()).padStart(2, '0')}:${String(now.getSeconds()).padStart(2, '0')}`;
                
                // 更新页面上的最后更新时间
                document.getElementById('lastUpdated').textContent = mockData.lastUpdated;
                
                // 显示刷新成功的提示
                alert(currentLang === "zh" ? "數據已刷新" : "Data refreshed");
            });
            
            document.getElementById('exportBtn').addEventListener('click', exportData);
            
            // 设置默认语言
            setLanguage('zh');
        });
    </script>
</body>
</html>
